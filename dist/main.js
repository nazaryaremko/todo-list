(()=>{"use strict";var t=[];const e=function(){var e=document.getElementById("projects"),n=document.getElementById("add-pr"),o={title:prompt("Name"),description:"",dueDate:"",priority:"",todolist:[]};t.push(o);var s=document.createElement("button");s.setAttribute("class","project"),s.setAttribute("id",String(o.title)),s.innerHTML=o.title,s.addEventListener("click",(function(e){e.target&&function(e){var n,o=document.getElementById("tasks"),s=document.getElementById("add-ts");for(let n=0;n<t.length;n++)if(t[n].title==e.innerHTML)var i=t[n];(n=document.querySelectorAll(".task")).length>0&&n.forEach((t=>{t.remove()}));for(let t=0;t<i.todolist.length;t++){var r=document.createElement("input");r.setAttribute("type","checkbox"),r.setAttribute("class","task"),r.setAttribute("id",String(i.todolist[t].title)),"done"==i.todolist[t].status&&(r.checked=!0);var l=document.createElement("Label");l.setAttribute("for",String(i.todolist[t].title)),l.setAttribute("class","task"),l.innerHTML=String(i.todolist[t].title),o.insertBefore(r,s),o.insertBefore(l,s)}}(e.target)})),e.insertBefore(s,n),function(){for(var t=document.getElementById("projects").getElementsByClassName("project"),e=0;e<t.length;e++)t[e].addEventListener("click",(function(){var t=document.getElementsByClassName("active");t.length>0&&(t[0].className=t[0].className.replace(" active","")),this.className+=" active"}))}()};const n=function(){for(var e={title:prompt("Name"),dueDate:"",priority:"",status:"not done"},n=document.getElementById("tasks"),o=document.getElementById("add-ts"),s=document.getElementById("projects").getElementsByClassName("project active"),i=0;i<t.length;i++)if(s.item(0).id==t[i].title)var r=t[i];r.todolist.push(e),console.log(t);var l=document.createElement("input");l.setAttribute("type","checkbox"),l.setAttribute("class","task"),l.setAttribute("id",String(e.title));var d=document.createElement("Label");d.setAttribute("for",String(e.title)),d.setAttribute("class","task"),d.innerHTML=String(e.title),n.insertBefore(l,o),n.insertBefore(d,o),l.addEventListener("change",(function(){this.checked,function(t,e){console.log(t.todolist),console.log(e);for(var n=0;n<t.todolist.length;n++)e.id==t.todolist[n].title&&"not done"==t.todolist[n].status?t.todolist[n].status="done":e.id==t.todolist[n].title&&"done"==t.todolist[n].status&&(t.todolist[n].status="not done")}(r,this),console.log(t)}))};document.getElementById("add-pr").addEventListener("click",(function(){e()})),document.getElementById("add-ts").addEventListener("click",(function(){n()}))})();