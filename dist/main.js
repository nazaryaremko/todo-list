(()=>{"use strict";const t=function(t){for(var n=t.parentNode,i=projects.getElementsByClassName("project"),r=0;r<i.length;r++)if("project active"==i.item(r).className)var o=i.item(r);for(r=0;r<e.length;r++)if(e[r].title==String(o.innerText))var l=e[r];for(r=0;r<l.todolist.length;r++)l.todolist[r].title==n.childNodes[0].id&&l.todolist.splice(r,1);n.remove()};var e=[];function n(t){for(var n=0;n<projects.childNodes.length;n++)projects.childNodes[n].id==t&&projects.childNodes[n].remove();for(n=0;n<e.length;n++)e[n].title==t&&e.splice(n,1);console.log(e)}const i=function(){var i=document.getElementById("projects"),r=document.getElementById("add-pr"),o=document.createElement("button");o.setAttribute("class","delete-pr");var l={title:prompt("Name"),description:"",dueDate:"",priority:"",todolist:[]};e.push(l);var s=document.createElement("div"),a=document.createElement("button");a.setAttribute("class","project"),s.setAttribute("id",String(l.title)),a.innerHTML=l.title,o.innerText="Delete the project",a.addEventListener("click",(function(n){n.target&&function(n){var i,r,o,l=document.getElementById("tasks"),s=document.getElementById("add-ts");for(let t=0;t<e.length;t++)if(e[t].title==n.innerHTML)var a=e[t];i=document.querySelectorAll(".task"),r=document.querySelectorAll(".task_l"),o=document.querySelectorAll(".delete-task"),i.length>0&&(i.forEach((t=>{t.remove()})),r.forEach((t=>{t.remove()})),o.forEach((t=>{t.remove()})));for(let e=0;e<a.todolist.length;e++){var d=document.createElement("input");d.setAttribute("type","checkbox"),d.setAttribute("class","task"),d.setAttribute("id",String(a.todolist[e].title)),"done"==a.todolist[e].status&&(d.checked=!0);var c=document.createElement("Label");c.setAttribute("for",String(a.todolist[e].title)),c.setAttribute("class","task_l"),c.innerHTML=String(a.todolist[e].title);var m=document.createElement("button");m.setAttribute("class","delete-task"),m.innerText="Delete the task",m.addEventListener("click",(function(e){e.target&&t(e.target)}));var u=document.createElement("div");u.appendChild(d),u.appendChild(c),u.appendChild(m),l.insertBefore(u,s)}}(n.target)})),o.addEventListener("click",(function(t){t.target&&n(s.id)})),s.appendChild(a),s.appendChild(o),i.insertBefore(s,r),function(){for(var t=document.getElementById("projects").getElementsByClassName("project"),e=0;e<t.length;e++)t[e].addEventListener("click",(function(){var t=document.getElementsByClassName("active");t.length>0&&(t[0].className=t[0].className.replace(" active","")),this.className+=" active"}))}()};document.getElementById("add-pr").addEventListener("click",(function(){i()})),document.getElementById("add-ts").addEventListener("click",(function(){!function(){var n={title:prompt("Name"),dueDate:"",priority:"",status:"not done"},i=document.getElementById("tasks"),r=document.getElementById("add-ts"),o=document.createElement("button");o.setAttribute("class","delete-task"),o.innerText="Delete the task";for(var l=document.getElementById("projects").getElementsByClassName("project active"),s=0;s<e.length;s++)if(l.item(0).parentNode.id==e[s].title)var a=e[s];a.todolist.push(n),o.addEventListener("click",(function(e){e.target&&t(e.target)}));var d=document.createElement("div"),c=document.createElement("input");c.setAttribute("type","checkbox"),c.setAttribute("class","task"),c.setAttribute("id",String(n.title));var m=document.createElement("Label");m.setAttribute("for",String(n.title)),m.setAttribute("class","task_l"),m.innerHTML=String(n.title),d.appendChild(c),d.appendChild(m),d.appendChild(o),i.insertBefore(d,r)}()})),tasks.addEventListener("change",(t=>{for(var n=projects.getElementsByClassName("project"),i=0;i<n.length;i++)if("project active"==n.item(i).className)var r=n.item(i);for(i=0;i<e.length;i++)if(e[i].title==String(r.innerText))var o=e[i];t.target.checked,function(t,e){for(var n=0;n<t.todolist.length;n++)e.id==t.todolist[n].title&&"not done"==t.todolist[n].status?t.todolist[n].status="done":e.id==t.todolist[n].title&&"done"==t.todolist[n].status&&(t.todolist[n].status="not done")}(o,t.target)}))})();